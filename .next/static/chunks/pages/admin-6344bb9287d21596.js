(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{487:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>d});var o=t(7876),r=t(7328),n=t.n(r),l=t(4232),s=t(857);function d(){let[e]=(0,l.useState)((0,s.$3)()),[i,t]=(0,l.useState)(null),[r,d]=(0,l.useState)(!1),[a,c]=(0,l.useState)(""),[x,p]=(0,l.useState)(""),[g,h]=(0,l.useState)(!1),[u,m]=(0,l.useState)({title:"",excerpt:"",content:"",category:"Construction Guide",featured:!1,author:{name:"CostFlowAI Team",bio:"Construction Intelligence Experts",avatar:"/images/authors/costflowai-team.jpg"},seo:{metaTitle:"",metaDescription:"",keywords:[],canonicalUrl:""}});(0,l.useEffect)(()=>{let e=localStorage.getItem("admin_token"),i=localStorage.getItem("admin_email");e&&i&&f(e,i)},[]);let b=async e=>{e.preventDefault(),p("");try{let e=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,action:"login"})}),i=await e.json();i.success?(localStorage.setItem("admin_token",i.token),localStorage.setItem("admin_email",a),d(!0),p("Login successful!")):p(i.message)}catch(e){p("Login failed. Please try again.")}},f=async(e,i)=>{try{let t=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,token:e,action:"verify"})});(await t.json()).success?d(!0):(localStorage.removeItem("admin_token"),localStorage.removeItem("admin_email"),d(!1))}catch(e){localStorage.removeItem("admin_token"),localStorage.removeItem("admin_email"),d(!1)}};return r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n(),{children:[(0,o.jsx)("title",{children:"Blog Management - CostFlowAI"}),(0,o.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[(0,o.jsx)("header",{style:{marginBottom:"40px"},children:(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{color:"#333",fontSize:"32px",marginBottom:"10px",margin:0},children:"CostFlowAI Blog Management"}),(0,o.jsx)("p",{style:{color:"#666",fontSize:"16px",margin:0},children:"Professional blogging platform for construction intelligence insights"})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,o.jsx)("button",{onClick:()=>h(!0),style:{background:"#4CAF50",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"+ New Article"}),(0,o.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_email"),d(!1),c(""),p("")},style:{background:"#dc3545",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Logout"})]})]})}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"40px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{style:{color:"#333",marginBottom:"20px"},children:"Published Articles"}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:e.map(e=>(0,o.jsxs)("div",{onClick:()=>t(e),style:{padding:"20px",border:"1px solid #dee2e6",borderRadius:"8px",cursor:"pointer",background:(null==i?void 0:i.id)===e.id?"#e3f2fd":"white",transition:"all 0.3s"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,o.jsx)("span",{style:{background:e.featured?"#4CAF50":"#f8f9fa",color:e.featured?"white":"#333",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",marginRight:"10px"},children:e.featured?"Featured":e.category}),(0,o.jsxs)("span",{style:{fontSize:"12px",color:"#666"},children:[e.readTime," min read"]})]}),(0,o.jsx)("h3",{style:{fontSize:"16px",margin:"0 0 8px 0",color:"#333",lineHeight:"1.3"},children:e.title}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#666",margin:"0",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.excerpt}),(0,o.jsxs)("div",{style:{marginTop:"10px",fontSize:"12px",color:"#999"},children:["Published: ",new Date(e.publishDate).toLocaleDateString()]})]},e.id))}),(0,o.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,o.jsx)("h3",{style:{color:"#333",margin:"0 0 15px 0"},children:"How to Add New Articles"}),(0,o.jsxs)("ol",{style:{fontSize:"14px",color:"#666",paddingLeft:"20px"},children:[(0,o.jsxs)("li",{children:["Edit ",(0,o.jsx)("code",{children:"/data/blogPosts.js"})," to add new articles"]}),(0,o.jsx)("li",{children:"Follow the existing data structure with all required fields"}),(0,o.jsxs)("li",{children:["Set ",(0,o.jsx)("code",{children:"featured: true"})," for homepage display"]}),(0,o.jsxs)("li",{children:["Add images to ",(0,o.jsx)("code",{children:"/public/images/blog/"})]}),(0,o.jsx)("li",{children:"Deploy to see changes live"})]})]})]}),(0,o.jsx)("div",{children:i?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,o.jsx)("h2",{style:{color:"#333",margin:0},children:"Article Preview"}),(0,o.jsx)("a",{href:"/blog/".concat(i.slug),target:"_blank",rel:"noopener noreferrer",style:{background:"#4CAF50",color:"white",padding:"8px 16px",borderRadius:"4px",textDecoration:"none",fontSize:"14px"},children:"View Live →"})]}),(0,o.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",overflow:"hidden"},children:[(0,o.jsxs)("div",{style:{padding:"30px",background:"white"},children:[(0,o.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,o.jsx)("span",{style:{background:"#4CAF50",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",marginRight:"10px"},children:i.category}),i.featured&&(0,o.jsx)("span",{style:{background:"#ff9800",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"Featured"})]}),(0,o.jsx)("h1",{style:{fontSize:"28px",lineHeight:"1.2",marginBottom:"15px",color:"#333"},children:i.title}),(0,o.jsx)("p",{style:{fontSize:"16px",lineHeight:"1.5",color:"#666",marginBottom:"20px"},children:i.excerpt}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,o.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px",marginRight:"12px"},children:"CF"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"bold",color:"#333"},children:i.author.name}),(0,o.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:i.author.bio})]})]}),(0,o.jsxs)("div",{style:{fontSize:"14px",color:"#999",display:"flex",gap:"15px"},children:[(0,o.jsxs)("span",{children:["Published: ",new Date(i.publishDate).toLocaleDateString()]}),(0,o.jsx)("span",{children:"•"}),(0,o.jsxs)("span",{children:[i.readTime," min read"]})]})]}),(0,o.jsxs)("div",{style:{padding:"30px",background:"#f8f9fa"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#333"},children:"Content Preview"}),(0,o.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",maxHeight:"300px",overflow:"auto",whiteSpace:"pre-wrap"},children:[i.content.substring(0,1e3),"..."]})]}),(0,o.jsxs)("div",{style:{padding:"30px",background:"#e3f2fd"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#1976d2"},children:"SEO Information"}),(0,o.jsxs)("div",{style:{fontSize:"14px"},children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Meta Title:"})," ",i.seo.metaTitle]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Meta Description:"})," ",i.seo.metaDescription]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Keywords:"})," ",i.seo.keywords.join(", ")]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Canonical URL:"})," ",i.seo.canonicalUrl]})]})]})]})]}):(0,o.jsxs)("div",{style:{padding:"60px",textAlign:"center",color:"#666",background:"#f8f9fa",borderRadius:"8px"},children:[(0,o.jsx)("h3",{children:"Select an article to preview"}),(0,o.jsx)("p",{children:"Click on any article from the list to see its details and preview."})]})})]}),g&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,o.jsxs)("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",padding:"30px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,o.jsx)("h2",{style:{margin:0,color:"#333",fontSize:"24px"},children:"Create New Article"}),(0,o.jsx)("button",{onClick:()=>h(!1),style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",fontSize:"18px",color:"#666"},children:"\xd7"})]}),(0,o.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Article Title *"}),(0,o.jsx)("input",{type:"text",value:u.title,onChange:e=>m({...u,title:e.target.value}),placeholder:"Enter article title",style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Category"}),(0,o.jsxs)("select",{value:u.category,onChange:e=>m({...u,category:e.target.value}),style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},children:[(0,o.jsx)("option",{value:"Construction Guide",children:"Construction Guide"}),(0,o.jsx)("option",{value:"Calculator Tips",children:"Calculator Tips"}),(0,o.jsx)("option",{value:"Industry Insights",children:"Industry Insights"}),(0,o.jsx)("option",{value:"Cost Analysis",children:"Cost Analysis"}),(0,o.jsx)("option",{value:"Material Guide",children:"Material Guide"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Article Excerpt *"}),(0,o.jsx)("textarea",{value:u.excerpt,onChange:e=>m({...u,excerpt:e.target.value}),placeholder:"Brief description of the article (2-3 sentences)",rows:3,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Article Content *"}),(0,o.jsx)("textarea",{value:u.content,onChange:e=>m({...u,content:e.target.value}),placeholder:"Full article content (supports markdown)",rows:12,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",resize:"vertical",fontFamily:"Monaco, Consolas, monospace",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"SEO Meta Title"}),(0,o.jsx)("input",{type:"text",value:u.seo.metaTitle,onChange:e=>m({...u,seo:{...u.seo,metaTitle:e.target.value}}),placeholder:"SEO optimized title",style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",marginTop:"30px"},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:u.featured,onChange:e=>m({...u,featured:e.target.checked}),style:{width:"20px",height:"20px"}}),(0,o.jsx)("span",{style:{fontWeight:"bold",color:"#333"},children:"Featured Article"})]})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"SEO Meta Description"}),(0,o.jsx)("textarea",{value:u.seo.metaDescription,onChange:e=>m({...u,seo:{...u.seo,metaDescription:e.target.value}}),placeholder:"SEO meta description (150-160 characters)",rows:2,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Image Upload"}),(0,o.jsxs)("div",{style:{border:"2px dashed #e1e5e9",borderRadius:"6px",padding:"40px",textAlign:"center",background:"#f8f9fa"},children:[(0,o.jsx)("div",{style:{marginBottom:"15px",fontSize:"48px",color:"#ccc"},children:"\uD83D\uDCC1"}),(0,o.jsx)("p",{style:{margin:"0 0 10px 0",color:"#666"},children:"Drag and drop images here, or click to browse"}),(0,o.jsx)("input",{type:"file",accept:"image/*",multiple:!0,style:{display:"none"},id:"imageUpload"}),(0,o.jsx)("label",{htmlFor:"imageUpload",style:{background:"#4CAF50",color:"white",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Choose Images"}),(0,o.jsx)("p",{style:{margin:"10px 0 0 0",fontSize:"12px",color:"#999"},children:"Supports JPG, PNG, GIF (max 5MB each)"})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"30px"},children:[(0,o.jsx)("button",{type:"button",onClick:()=>{alert("Article publishing feature coming soon! Currently, articles are managed via data/blogPosts.js")},style:{background:"#4CAF50",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",flex:1},children:"Publish Article"}),(0,o.jsx)("button",{type:"button",onClick:()=>{alert("Draft saving feature coming soon!")},style:{background:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",flex:1},children:"Save Draft"}),(0,o.jsx)("button",{type:"button",onClick:()=>h(!1),style:{background:"white",color:"#666",border:"2px solid #e1e5e9",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"Cancel"})]})]})]})}),(0,o.jsx)("footer",{style:{marginTop:"60px",paddingTop:"30px",borderTop:"2px solid #f8f9fa",textAlign:"center",color:"#666"},children:(0,o.jsx)("p",{children:"CostFlowAI Blog Management • Professional Construction Intelligence"})})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n(),{children:[(0,o.jsx)("title",{children:"Admin Login - CostFlowAI"}),(0,o.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,o.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)"},children:(0,o.jsxs)("div",{style:{background:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",maxWidth:"400px",width:"100%",margin:"20px"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"30px"},children:[(0,o.jsx)("h1",{style:{color:"#333",marginBottom:"10px",fontSize:"24px"},children:"CostFlowAI Admin"}),(0,o.jsx)("p",{style:{color:"#666",margin:"0"},children:"Secure access for authorized personnel only"})]}),(0,o.jsxs)("form",{onSubmit:b,children:[(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"#333",fontWeight:"bold"},children:"Email Address"}),(0,o.jsx)("input",{type:"email",value:a,onChange:e=>c(e.target.value),placeholder:"Enter your email",required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"6px",fontSize:"16px",boxSizing:"border-box"}})]}),(0,o.jsx)("button",{type:"submit",style:{width:"100%",padding:"12px",background:"#4CAF50",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginBottom:"20px"},children:"Login"}),x&&(0,o.jsx)("div",{style:{padding:"12px",borderRadius:"6px",textAlign:"center",fontSize:"14px",background:x.includes("successful")?"#d4edda":"#f8d7da",color:x.includes("successful")?"#155724":"#721c24",border:"1px solid ".concat(x.includes("successful")?"#c3e6cb":"#f5c6cb")},children:x})]}),(0,o.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#666"},children:[(0,o.jsx)("strong",{children:"Security Notice:"})," This admin panel is restricted to authorized CostFlowAI personnel only. Access requires the registered admin email address."]})]})})]})}},8210:(e,i,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(487)}])}},e=>{e.O(0,[857,636,593,792],()=>e(e.s=8210)),_N_E=e.O()}]);