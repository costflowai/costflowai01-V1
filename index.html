<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CostFlowAI - Professional Cost Calculation Platform</title>
    <meta name="description" content="CostFlowAI - Professional cost calculation and analysis platform for construction and engineering">
    <!-- Performance: DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    
    <!-- Performance: Preload critical assets -->
    <link rel="preload" href="/vendor/lunr/lunr.min.js" as="script">
    <link rel="preload" href="/assets/js/core/analytics.js" as="script">
    <link rel="preload" href="/assets/js/blog-search.js" as="script">
    
    <!-- Performance: Prefetch likely-needed assets -->
    <link rel="prefetch" href="/vendor/jspdf/jspdf.min.js">
    <link rel="prefetch" href="/assets/data/search.json">
    <!-- Performance: DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    
    <!-- Performance: Preload critical assets -->
    <link rel="preload" href="/vendor/lunr/lunr.min.js" as="script">
    <link rel="preload" href="/assets/js/core/analytics.js" as="script">
    <link rel="preload" href="/assets/js/blog-search.js" as="script">
    
    <!-- Performance: Prefetch likely-needed assets -->
    <link rel="prefetch" href="/vendor/jspdf/jspdf.min.js">
    <link rel="prefetch" href="/assets/data/search.json">
    <!-- Critical CSS inlined for performance -->
    <style>
      *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Oxygen','Ubuntu','Cantarell',sans-serif;line-height:1.6;color:#1f2937;background:#ffffff;font-size:16px}a{color:#2563eb;text-decoration:none;transition:color 0.2s ease}a:hover{color:#1d4ed8}h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.2;color:#111827}h1{font-size:2.5rem;font-weight:800}h2{font-size:2rem}h3{font-size:1.5rem}p{margin-bottom:1rem;color:#6b7280}.btn{display:inline-flex;align-items:center;justify-content:center;padding:0.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;text-decoration:none;cursor:pointer;transition:all 0.2s ease;min-width:140px}.btn-primary{background:#2563eb;color:white;box-shadow:0 1px 3px rgba(0,0,0,0.1)}.btn-primary:hover{background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 12px rgba(37,99,235,0.3);color:white}.btn-secondary{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary:hover{background:#e5e7eb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,0.1);color:#374151}@media print{@page{margin:1in;size:letter}*{-webkit-print-color-adjust:exact !important;color-adjust:exact !important;print-color-adjust:exact !important}body{font-size:12pt;line-height:1.4;background:white !important;color:black !important}h1,h2,h3,h4,h5,h6{break-after:avoid;color:black !important}.btn,.nav-links,.search-overlay,.no-print{display:none !important}table{border-collapse:collapse;width:100%;break-inside:avoid}th,td{border:1px solid #333;padding:8pt;text-align:left}th{background-color:#f0f0f0 !important;font-weight:bold}.print-header{border-bottom:3pt solid #1e40af;margin-bottom:20pt;padding-bottom:10pt}.print-footer{position:fixed;bottom:0;left:0;right:0;border-top:1pt solid #ccc;padding-top:5pt;font-size:9pt;text-align:center;background:white}.print-disclaimer{margin-top:20pt;padding:10pt;border:1pt solid #ccc;font-size:9pt;background-color:#f9f9f9 !important}.calculator-section{break-inside:avoid;margin-bottom:20pt}.results-table{break-inside:avoid}@media (max-width:768px){h1{font-size:2rem}h2{font-size:1.75rem}.btn{padding:0.625rem 1.25rem;font-size:0.9rem;min-width:120px}header{background:linear-gradient(135deg,#1e40af 0%,#2563eb 100%);padding:0;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.main-nav{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto;padding:1rem 2rem}.logo{font-size:1.5rem;font-weight:800;color:white !important;text-decoration:none}.nav-links{display:flex;list-style:none;gap:2rem;align-items:center}.nav-links a{color:rgba(255,255,255,0.9) !important;font-weight:500;padding:0.5rem 0;border-bottom:2px solid transparent;transition:all 0.2s ease}.nav-links a:hover{color:white !important;border-bottom-color:rgba(255,255,255,0.3)}.hero{background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);padding:5rem 2rem;text-align:center;position:relative}.hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.03"><circle cx="50" cy="50" r="2" fill="%23000"/></svg>') repeat}.hero-content{position:relative;max-width:800px;margin:0 auto}.hero h1{margin-bottom:1.5rem;background:linear-gradient(135deg,#1e40af,#2563eb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero p{font-size:1.25rem;margin-bottom:3rem;color:#4b5563;max-width:600px;margin-left:auto;margin-right:auto}.hero-actions{display:flex;gap:1.5rem;justify-content:center;flex-wrap:wrap}main{flex:1;min-height:calc(100vh - 200px)}footer{background:#f9fafb;border-top:1px solid #e5e7eb;margin-top:4rem;padding:2rem}.footer-nav{max-width:1200px;margin:0 auto;text-align:center}.footer-nav ul{display:flex;justify-content:center;list-style:none;gap:2rem;margin-bottom:1rem}.footer-nav a{color:#6b7280;font-weight:500}.footer-nav a:hover{color:#374151}footer p{color:#9ca3af;font-size:0.875rem;margin:0;text-align:center}@media (max-width:768px){.main-nav{flex-direction:column;gap:1rem;padding:1rem}.nav-links{gap:1rem;flex-wrap:wrap;justify-content:center}.hero{padding:3rem 1rem}.hero-actions{flex-direction:column;align-items:center}.footer-nav ul{flex-direction:column;gap:1rem}@media (max-width:480px){.hero p{font-size:1.1rem}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.search-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1000;padding:2rem;overflow-y:auto}.search-container{max-width:800px;margin:2rem auto;background:white;border-radius:12px;box-shadow:0 20px 40px rgba(0,0,0,0.2);overflow:hidden}.search-form{position:relative;padding:1.5rem;border-bottom:1px solid #e5e7eb;background:#f9fafb}.search-form input{width:100%;padding:1rem 1.25rem;border:2px solid #d1d5db;border-radius:8px;font-size:1.1rem;font-family:inherit;outline:none;transition:border-color 0.2s}.search-form input:focus{border-color:#007bff;box-shadow:0 0 0 3px rgba(0,123,255,0.1)}.search-form button{position:absolute;top:1.5rem;right:1.5rem;background:#6b7280;color:white;border:none;padding:0.5rem 1rem;border-radius:6px;cursor:pointer;font-size:0.9rem;transition:background-color 0.2s}.search-form button:hover{background:#4b5563}.search-results{display:none;max-height:60vh;overflow-y:auto}.search-results.visible{display:block}.search-results-header{padding:1rem 1.5rem;background:#f3f4f6;border-bottom:1px solid #e5e7eb;font-size:0.9rem;color:#6b7280}.search-results-list{padding:0}.search-result{padding:1.25rem 1.5rem;border-bottom:1px solid #f3f4f6;cursor:pointer;transition:background-color 0.15s}.search-result:hover,.search-result.selected{background:#f8fafc}.search-result:last-child{border-bottom:none}.search-result-title{margin:0 0 0.5rem 0;font-size:1.1rem;font-weight:600}.search-result-title a{color:#1f2937;text-decoration:none;transition:color 0.2s}.search-result-title a:hover{color:#007bff}.search-result-excerpt{margin:0 0 0.75rem 0;color:#6b7280;font-size:0.95rem;line-height:1.5}.search-result-meta{display:flex;align-items:center;gap:1rem;font-size:0.85rem}.search-result-category{background:#e5e7eb;color:#374151;padding:0.25rem 0.75rem;border-radius:12px;font-weight:500}.search-result-tags{display:flex;gap:0.5rem}.tag-mini{background:#dbeafe;color:#1e40af;padding:0.15rem 0.5rem;border-radius:8px;font-size:0.75rem}.search-results mark{background:#fef3c7;color:#92400e;padding:0.1em 0.2em;border-radius:3px;font-weight:600}.search-no-results{padding:3rem 1.5rem;text-align:center;color:#6b7280}.search-no-results p:first-child{font-size:1.1rem;font-weight:600;margin-bottom:0.5rem}.search-suggestion{margin-top:1rem}.search-suggestion a{color:#007bff;text-decoration:none}.search-suggestion a:hover{text-decoration:underline}.search-error{padding:2rem 1.5rem;text-align:center;color:#ef4444;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;margin:1rem}.search-loading{padding:2rem 1.5rem;text-align:center;color:#6b7280}@media (max-width:768px){.search-overlay{padding:1rem}.search-container{margin:1rem auto;border-radius:8px}.search-form{padding:1rem}.search-form input{font-size:1rem;padding:0.875rem 1rem}.search-form button{top:1rem;right:1rem;padding:0.4rem 0.8rem;font-size:0.8rem}.search-result{padding:1rem}.search-results{max-height:50vh}.intro{text-align:center;margin-bottom:3rem}.intro h2{color:#333;margin-bottom:1rem}.intro p{color:#666;font-size:1.1rem}.calculator-grid h3{color:#007bff;border-bottom:2px solid #007bff;padding-bottom:0.5rem;margin:2rem 0 1rem 0}.calculator-category{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.5rem;margin-bottom:2rem}.calculator-card{background:white;border:1px solid #ddd;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px rgba(0,0,0,0.1);transition:box-shadow 0.3s ease}.calculator-card:hover{box-shadow:0 4px 8px rgba(0,0,0,0.15)}.calculator-card h4{color:#333;margin-bottom:0.75rem;font-size:1.2rem}.calculator-card p{color:#666;margin-bottom:1rem;line-height:1.4;font-size:0.9rem}.btn-primary{background:#007bff;color:white;border:none;padding:0.75rem 1.5rem;border-radius:4px;cursor:pointer;font-weight:500;transition:background 0.3s ease}.btn-primary:hover{background:#0056b3}.btn-disabled{background:#f8f9fa;color:#6c757d;border:1px solid #dee2e6;padding:0.75rem 1.5rem;border-radius:4px;cursor:not-allowed;font-weight:500}@media (max-width:768px){.calculator-category{grid-template-columns:1fr}
    </style>
    
    <!-- Non-critical CSS loaded asynchronously (CSP-compatible) -->
    <link rel="preload" href="/assets/css/dist/app.min.css" as="style">
    <link rel="stylesheet" href="/assets/css/dist/app.min.css">
</head>
<body>
    <header>
        <nav class="main-nav">
            <a href="/" class="logo">CostFlowAI</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/calculators/">Calculators</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="#" id="search-trigger">Search</a></li>
                <li><a href="mailto:contact@costflowai.com">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>Professional Cost Calculation Platform</h1>
                <p>Accurate construction cost estimation and analysis tools for professionals</p>
                <div class="hero-actions">
                    <a href="/calculators/" class="btn btn-primary">Open Calculators</a>
                    <a href="/blog/" class="btn btn-secondary">Read the Blog</a>
                </div>
            </div>
        </section>


        <div id="search-overlay" class="search-overlay" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="search-title">
            <div class="search-container">
                <form class="search-form">
                    <h2 id="search-title" class="sr-only">Search</h2>
                    <input type="text" id="blog-search" placeholder="Search calculators and blog posts..." aria-label="Search calculators and blog posts" />
                    <button type="button" id="search-close" aria-label="Close search">Close</button>
                </form>
                <div id="search-results" class="search-results" role="region" aria-live="polite" aria-label="Search results"></div>
            </div>
        </div>
    </main>

    <footer>
        <nav class="footer-nav">
            <ul>
                <li><a href="/calculators/">Calculators</a></li>
                <li><a href="/blog/">Blog</a></li>
            </ul>
        </nav>
        <p>&copy; 2024 CostFlowAI. All rights reserved.</p>
    </footer>

    <!-- Analytics Configuration -->
    <!-- Set your GA4 tracking ID here for production: G-XXXXXXXXXX -->
    <meta name="ga-tracking-id" content="G-PLACEHOLDER123">
    
    <script src="/vendor/lunr/lunr.min.js" defer async nonce="jTDX8LismPRbFNuj2+rR1w=="></script>
    <script type="module" src="/assets/js/core/analytics.js" nonce="jTDX8LismPRbFNuj2+rR1w=="></script>
    <script type="module" src="/assets/js/blog-search.js" nonce="jTDX8LismPRbFNuj2+rR1w=="></script>

    <script nonce="S9FLaDYpsFcKrt6CoYjFTQ==">
      // Performance monitoring
      window.addEventListener('load', function() {
        if ('performance' in window) {
          const perfData = performance.timing;
          const loadTime = perfData.loadEventEnd - perfData.navigationStart;
          console.log('⚡ Page load time:', Math.round(loadTime) + 'ms');
          
          // Track performance metrics for analytics
          if (window.CostFlowAnalytics) {
            window.CostFlowAnalytics.trackEvent('performance_timing', {
              load_time: loadTime,
              dom_content_loaded: perfData.domContentLoadedEventEnd - perfData.navigationStart,
              first_paint: performance.getEntriesByName('first-paint')[0]?.startTime || 0
            });
          }
        }
      });
    </script>

    <script nonce="__NONCE__">
      // Performance monitoring
      window.addEventListener('load', function() {
        if ('performance' in window) {
          const perfData = performance.timing;
          const loadTime = perfData.loadEventEnd - perfData.navigationStart;
          console.log('⚡ Page load time:', Math.round(loadTime) + 'ms');
          
          // Track performance metrics for analytics
          if (window.CostFlowAnalytics) {
            window.CostFlowAnalytics.trackEvent('performance_timing', {
              load_time: loadTime,
              dom_content_loaded: perfData.domContentLoadedEventEnd - perfData.navigationStart,
              first_paint: performance.getEntriesByName('first-paint')[0]?.startTime || 0
            });
          }
        }
      });
    </script>
</body>
</html>